<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Z09_05</title>
</head>
<body bgcolor="#FFFFE0">
<font size="3" face = "Arial" color="#000000"><b>Code listing for: Z09_05</b></font>
<br>
<font size="3" face = "Arial" color="#000000"><b>Description:  Program Z09_05</b></font>
<hr>
<pre width="100">
<font color ="#0000FF">*&---------------------------------------------------------------------*</font>
<font color ="#0000FF">*& Report Z09_05</font>
<font color ="#0000FF">*&---------------------------------------------------------------------*</font>
<font color ="#0000FF">*&</font>
<font color ="#0000FF">*&---------------------------------------------------------------------*</font>
REPORT Z09_05.

<font color ="#0000FF">*DATA : gs_sflight TYPE sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*clear : gs_sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*Select SINGLE carrid connid fladte currency price</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF gs_sflight</font>
<font color ="#0000FF">*  FROM sflight</font>
<font color ="#0000FF">* WHERE carrid = 'AA'</font>
<font color ="#0000FF">*   AND connid = '17'</font>
<font color ="#0000FF">*   AND fldate = '20150429'.</font>
<font color ="#0000FF">*</font>

<font color ="#0000FF">* 한 건만 불러와 필드에 넣어주기</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gv_price LIKE sflight-price.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gv_price.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT SINGLE price</font>
<font color ="#0000FF">*  INTO gv_price</font>
<font color ="#0000FF">*  FROM sflight</font>
<font color ="#0000FF">* WHERE carrid = 'AA'</font>
<font color ="#0000FF">*   AND connid = '17'</font>
<font color ="#0000FF">*   AND fldate = '20150429'.</font>

<font color ="#0000FF">* 여러 필드, WORK AREA에 값넣기</font>
<font color ="#0000FF">*DATA : gv_price LIKE sflight-price,</font>
<font color ="#0000FF">*       gv_type LIKE sflight-planetype.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gs_sflight TYPE sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gv_price, gv_type, gs_sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT SINGLE price planetype currency</font>
<font color ="#0000FF">*  INTO (gv_price, gv_type, gs_sflight-currency)</font>
<font color ="#0000FF">*  FROM sflight</font>
<font color ="#0000FF">* WHERE carrid = 'AA'</font>
<font color ="#0000FF">*   AND connid = '17'</font>
<font color ="#0000FF">*   AND fldate = '20150429'.</font>


<font color ="#0000FF">*DATA : gv_price LIKE sflight-price,</font>
<font color ="#0000FF">*       gv_type LIKE sflight-planetype,</font>
<font color ="#0000FF">*       gv_cnt TYPE i.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gs_sflight TYPE sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gv_price, gv_type, gs_sflight, gv_cnt.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT SINGLE carrid COUNT( * )</font>
<font color ="#0000FF">*  INTO gv_cnt</font>
<font color ="#0000FF">*  FROM sflight</font>
<font color ="#0000FF">* WHERE carrid = 'AA'</font>
<font color ="#0000FF">*   GROUP BY carrid.</font>
<font color ="#0000FF">*</font>

<font color ="#0000FF">*data : gt_scarr TYPE TABLE OF scarr WITH HEADER LINE,</font>
<font color ="#0000FF">*       gt_spfl  TYPE TABLE OF spfli WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_scarr, gt_scarr[], gt_spfl, gt_spfl[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : BEGIN OF gt_cnt OCCURS 0,</font>
<font color ="#0000FF">*        carrid LIKE sflight-carrid,</font>
<font color ="#0000FF">*        cnt    TYPE i,</font>
<font color ="#0000FF">*       END OF gt_cnt.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_cnt, gt_cnt[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT carrid COUNT( * ) AS cnt</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_cnt</font>
<font color ="#0000FF">*  FROM sflight</font>
<font color ="#0000FF">*  GROUP BY carrid.</font>

<font color ="#0000FF">* MAX, MIN, COUNT</font>
<font color ="#0000FF">*DATA : gv_maxprice LIKE sflight-price,</font>
<font color ="#0000FF">*       gv_minprice LIKE sflight-price,</font>
<font color ="#0000FF">*       gv_type LIKE sflight-planetype,</font>
<font color ="#0000FF">*       gv_cnt TYPE i.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gs_sflight TYPE sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gv_maxprice, gv_minprice, gv_type, gv_cnt, gs_sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*Select MAX( price )</font>
<font color ="#0000FF">*  INTO gv_maxprice</font>
<font color ="#0000FF">*  FROM sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*Select MIN( price )</font>
<font color ="#0000FF">*  INTO gv_minprice</font>
<font color ="#0000FF">*  FROM sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT COUNT( * )</font>
<font color ="#0000FF">*  INTO gv_cnt</font>
<font color ="#0000FF">*  FROM sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  WRITE : gv_maxprice, gv_minprice,gv_cnt.</font>


<font color ="#0000FF">* 실습1</font>
DATA : BEGIN OF gt_data OCCURS 0.
        INCLUDE STRUCTURE sbook.
DATA :  bukrs LIKE t001-bukrs,
        WERKS  LIKE T001W-WERKS,
        MATNR  LIKE MARA-MATNR,
        DMBTR  LIKE MSEG-DMBTR,
        LGORT  LIKE MSEG-LGORT,
        GUBUN(10),
       END OF gt_data.


DATA : gt_sflight TYPE TABLE OF sflight WITH HEADER LINE.

DATA : gv_cnt TYPE i.

CLEAR : gt_sflight, gt_sflight[], gv_cnt.

SELECT carrid connid fldate planetype price
  into CORRESPONDING FIELDS OF TABLE gt_sflight
  FROM sflight.

DO 500 TIMES.

  WRITE : 'SY-TABIX : ', sy-tabix, 'SY-INDEX : ', sy-index.

  READ TABLE gt_sflight INDEX sy-index.

  WRITE : '읽은 후 : ', sy-tabix, 'SY-INDEX : ', sy-index, /.
ENDDO.

<font color ="#0000FF">* CASE 문</font>
<font color ="#0000FF">*DATA : gt_sflight TYPE TABLE OF sflight WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gv_cnt_aa TYPE i,</font>
<font color ="#0000FF">*       gv_cnt_az TYPE i,</font>
<font color ="#0000FF">*       gv_cnt_etc TYPE i.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gv_cnt_aa, gv_cnt_az, gv_cnt_etc, gt_sflight, gt_sflight[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT carrid connid fldate planetype price</font>
<font color ="#0000FF">*  into CORRESPONDING FIELDS OF TABLE gt_sflight</font>
<font color ="#0000FF">*  FROM sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  LOOP AT gt_sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    CASE gt_sflight-carrid.</font>
<font color ="#0000FF">*      WHEN 'AA'.</font>
<font color ="#0000FF">*        gv_cnt_aa = gv_cnt_aa + 1.</font>
<font color ="#0000FF">*      WHEN 'AZ'.</font>
<font color ="#0000FF">*        gv_cnt_az = gv_cnt_az + 1.</font>
<font color ="#0000FF">*      WHEN OTHERS.</font>
<font color ="#0000FF">*        gv_cnt_etc = gv_cnt_etc + 1.</font>
<font color ="#0000FF">*    ENDCASE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  ENDLOOP.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  WRITE : 'AA : ',gv_cnt_aa, /,'AZ : ' ,gv_cnt_az, /,'ETC : ',gv_cnt_etc.</font>

<font color ="#0000FF">*실습 2</font>
<font color ="#0000FF">*DATA : gt_scarr TYPE TABLE OF scarr WITH HEADER LINE,</font>
<font color ="#0000FF">*       gt_spfli TYPE TABLE OF spfli WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_scarr, gt_scarr[], gt_spfli, gt_spfli[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT carrid carrname currcode url</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_scarr</font>
<font color ="#0000FF">*  FROM scarr.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT carrid connid countryfr cityfrom airpfrom countryto cityto airpto</font>
<font color ="#0000FF">*       fltime deptime arrtime distance distid fltype period</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_spfli</font>
<font color ="#0000FF">*  FROM spfli.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SORT gt_scarr BY carrid.</font>
<font color ="#0000FF">*SORT gt_spfli BY carrid.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*LOOP AT gt_scarr.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  WRITE : gt_scarr-carrid,/, sy-uline.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  READ TABLE gt_spfli WITH KEY carrid = gt_scarr-carrid</font>
<font color ="#0000FF">*                     BINARY SEARCH.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  LOOP AT gt_spfli FROM sy-tabix.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    IF gt_scarr-carrid &lt;&gt; gt_spfli-carrid.</font>
<font color ="#0000FF">*      EXIT.</font>
<font color ="#0000FF">*    ENDIF.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*        WRITE : gt_spfli-carrid, gt_spfli-connid, gt_spfli-COUNTRYFR,/.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  ENDLOOP.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*ENDLOOP.</font>


<font color ="#0000FF">*실습 3</font>

<font color ="#0000FF">*DATA : gt_mkpf LIKE TABLE OF mkpf WITH HEADER LINE,</font>
<font color ="#0000FF">*       gt_mseg LIKE TABLE OF mseg WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_mkpf, gt_mkpf[], gt_mseg, gt_mseg[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT MBLNR VGART BLART</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_mkpf</font>
<font color ="#0000FF">*  FROM mkpf</font>
<font color ="#0000FF">* WHERE mjahr = '2016'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT  MBLNR ZEILE BWART MATNR WERKS</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_mseg</font>
<font color ="#0000FF">*  FROM MSEG</font>
<font color ="#0000FF">* WHERE mjahr = '2016'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SORT gt_mkpf BY MBLNR.</font>
<font color ="#0000FF">*SORT gt_mseg by MBLNR.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*LOOP AT gt_mkpf.</font>
<font color ="#0000FF">*  WRITE : gt_mkpf-MBLNR,/,sy-uline.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  READ TABLE gt_mseg WITH KEY MBLNR = gt_mkpf-mblnr</font>
<font color ="#0000FF">*                     BINARY SEARCH.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  IF sy-subrc = 0.</font>
<font color ="#0000FF">*    LOOP AT gt_mseg FROM sy-tabix.</font>
<font color ="#0000FF">*      IF  gt_mkpf-MBLNR &lt;&gt; gt_mseg-MBLNR.</font>
<font color ="#0000FF">*        Exit.</font>
<font color ="#0000FF">*      ENDIF.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*       WRITE : gt_mseg-MBLNR, gt_mseg-ZEILE, gt_mseg-BWART, gt_mseg-matnr,/.</font>
<font color ="#0000FF">*    ENDLOOP.</font>
<font color ="#0000FF">*  ENDIF.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*ENDLOOP.</font>

<font color ="#0000FF">*TABLES : t001. "밑에서 사용할 TABLE에 대해서는 위에서 알려주어야 한다.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECTION-SCREEN BEGIN OF BLOCK bl1 WITH FRAME TITLE text-001. "블록 생성</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">**  이름은 s_로 시작하는 이름과 8자리 이하로 정해야 한다.여기서는 LIKE, TYPE이 아닌 FOR를 사용한다.</font>
<font color ="#0000FF">*  SELECT-OPTIONS : s_bukrs FOR t001-bukrs no INTERVALS.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECTION-SCREEN END OF BLOCK bl1.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECTION-SCREEN BEGIN OF BLOCK bl2 WITH FRAME TITLE text-002.</font>
<font color ="#0000FF">*  SELECT-OPTIONS : s_ktopl for t001-ktopl no-EXTENSION no INTERVALS.</font>
<font color ="#0000FF">*SELECTION-SCREEN END OF BLOCK bl2.</font>



<font color ="#0000FF">* 실습 4</font>
<font color ="#0000FF">*TABLES : sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECTION-SCREEN BEGIN OF BLOCK bl1 WITH FRAME TITLE text-003.</font>
<font color ="#0000FF">*  SELECT-OPTIONS : s_carrid for sflight-carrid OBLIGATORY DEFAULT 'AA',</font>
<font color ="#0000FF">*                   s_connid for sflight-connid no INTERVALS OBLIGATORY,</font>
<font color ="#0000FF">*                   s_fldate for sflight-fldate no-EXTENSION,</font>
<font color ="#0000FF">*                   s_curr   for sflight-currency no INTERVALS</font>
<font color ="#0000FF">*                                                 no-EXTENSION.</font>
<font color ="#0000FF">* SELECTION-SCREEN END OF BLOCK bl1.</font>


<font color ="#0000FF">*TABLES : sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECTION-SCREEN BEGIN OF BLOCK bl1 WITH FRAME TITLE text-003.</font>
<font color ="#0000FF">*  SELECT-OPTIONS : s_carrid for sflight-carrid ,</font>
<font color ="#0000FF">*                   s_connid for sflight-connid .</font>
<font color ="#0000FF">* SELECTION-SCREEN END OF BLOCK bl1.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">* DATA : gt_sflight TYPE TABLE OF sflight WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">* CLEAR : gt_sflight, gt_sflight[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">* SELECT carrid connid fldate planetype currency price</font>
<font color ="#0000FF">*   into CORRESPONDING FIELDS OF TABLE gt_sflight</font>
<font color ="#0000FF">*   FROM sflight</font>
<font color ="#0000FF">*  WHERE carrid IN s_carrid.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*   BREAK-POINT.</font>

<font color ="#0000FF">*Text elements</font>
<font color ="#0000FF">*----------------------------------------------------------</font>
<font color ="#0000FF">* 001 검색조건</font>
<font color ="#0000FF">* 003 검색옵션</font>


<font color ="#0000FF">*Selection texts</font>
<font color ="#0000FF">*----------------------------------------------------------</font>
<font color ="#0000FF">* S_CARRID D       .</font>
<font color ="#0000FF">* S_CONNID D       .</font>
<font color ="#0000FF">* S_CURR D       .</font>
<font color ="#0000FF">* S_FLDATE D       .</font>
</pre>
<hr>
<font size="2" face = "Sans Serif">Extracted by Direct Download Enterprise version 1.3.1 - E.G.Mellodew. 1998-2005 UK. Sap Release 750
</font>
</body>
</html>
